<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!-- git web interface version 1.7.3.GIT, (C) 2005-2006, Kay Sievers <kay.sievers@vrfy.org>, Christian Gierke -->
<!-- git core binaries version 1.7.4.1 -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="generator" content="gitweb/1.7.3.GIT git/1.7.4.1"/>
<meta name="robots" content="index, nofollow"/>
<title>drupalcode.org Git - sandbox/iqbalnurhakim/1623992.git/blob - vegas.admin.inc</title>
<base href="http://drupalcode.org" />
<link rel="stylesheet" type="text/css" href="/gitweb.css"/>
<link rel="stylesheet" type="text/css" href="/highlight.css"/>
<link rel="alternate" title="sandbox/iqbalnurhakim/1623992.git - history of vegas.admin.inc on '7.x-1.x' - RSS feed" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/rss/refs/heads/7.x-1.x?f=vegas.admin.inc" type="application/rss+xml" />
<link rel="alternate" title="sandbox/iqbalnurhakim/1623992.git - history of vegas.admin.inc on '7.x-1.x' - RSS feed (no merges)" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/rss/refs/heads/7.x-1.x?f=vegas.admin.inc;opt=--no-merges" type="application/rss+xml" />
<link rel="alternate" title="sandbox/iqbalnurhakim/1623992.git - history of vegas.admin.inc on '7.x-1.x' - Atom feed" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/atom/refs/heads/7.x-1.x?f=vegas.admin.inc;opt=--no-merges" type="application/atom+xml" />
<link rel="alternate" title="sandbox/iqbalnurhakim/1623992.git - history of vegas.admin.inc on '7.x-1.x' - Atom feed (no merges)" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/atom/refs/heads/7.x-1.x?f=vegas.admin.inc;opt=--no-merges" type="application/atom+xml" />
<link rel="shortcut icon" href="/git-favicon.png" type="image/png" />
</head>
<body>
<div class="page_header">
<a title="git homepage" href="http://drupal.org/"><img src="/git-logo.png" width="72" height="27" alt="git" class="logo"/></a><a href="/">projects</a> / <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git">sandbox/iqbalnurhakim/1623992.git</a> / blob
</div>
<form method="get" action="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git" enctype="application/x-www-form-urlencoded">
<div class="search">
<input name="a" type="hidden" value="search" />
<input name="h" type="hidden" value="refs/heads/7.x-1.x" />
<select name="st" >
<option selected="selected" value="commit">commit</option>
<option value="grep">grep</option>
<option value="author">author</option>
<option value="committer">committer</option>
<option value="pickaxe">pickaxe</option>
</select><sup><a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/search_help">?</a></sup> search:
<input type="text" name="s"  />
<span title="Extended regular expression"><label><input type="checkbox" name="sr" value="1" />re</label></span></div>
</form>
<div class="page_nav">
<a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git">summary</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/shortlog">shortlog</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/log">log</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/commit/refs/heads/7.x-1.x">commit</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/commitdiff/refs/heads/7.x-1.x">commitdiff</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/tree/refs/heads/7.x-1.x">tree</a><br/>
<a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blame/refs/heads/7.x-1.x:/vegas.admin.inc">blame</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/history/refs/heads/7.x-1.x:/vegas.admin.inc">history</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob_plain/refs/heads/7.x-1.x:/vegas.admin.inc">raw</a> | <a href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/HEAD:/vegas.admin.inc">HEAD</a><br/>
</div>
<div class="header">
<a class="title" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/commit/refs/heads/7.x-1.x">Fixed drupal standard codes</a>
</div>
<div class="page_path"><a title="tree root" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/tree/refs/heads/7.x-1.x">[sandbox/iqbalnurhakim/1623992.git]</a> / <a title="vegas.admin.inc" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob_plain/refs/heads/7.x-1.x:/vegas.admin.inc">vegas.admin.inc</a><br/></div>
<div class="page_body">
<div class="pre"><a id="l1" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l1" class="linenr">   1</a> <span class="hl sym">&lt;</span>?php</div>
<div class="pre"><a id="l2" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l2" class="linenr">   2</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l3" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l3" class="linenr">   3</a> <span class="hl com"> * &#64;file</span></div>
<div class="pre"><a id="l4" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l4" class="linenr">   4</a> <span class="hl com"> * Vegas administer page.</span></div>
<div class="pre"><a id="l5" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l5" class="linenr">   5</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l6" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l6" class="linenr">   6</a> </div>
<div class="pre"><a id="l7" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l7" class="linenr">   7</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l8" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l8" class="linenr">   8</a> <span class="hl com"> * Form constructor for the user login form.</span></div>
<div class="pre"><a id="l9" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l9" class="linenr">   9</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l10" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l10" class="linenr">  10</a> <span class="hl com"> * &#64;see vegas_admin_settings_submit()</span></div>
<div class="pre"><a id="l11" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l11" class="linenr">  11</a> <span class="hl com"> * &#64;see vegas_admin_settings_upload_process()</span></div>
<div class="pre"><a id="l12" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l12" class="linenr">  12</a> <span class="hl com"> * &#64;see _vegas_admin_settings_check_path()</span></div>
<div class="pre"><a id="l13" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l13" class="linenr">  13</a> <span class="hl com"> * &#64;see vegas_menu()</span></div>
<div class="pre"><a id="l14" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l14" class="linenr">  14</a> <span class="hl com"> * &#64;ingroup forms</span></div>
<div class="pre"><a id="l15" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l15" class="linenr">  15</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l16" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l16" class="linenr">  16</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">, &amp;</span><span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l17" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l17" class="linenr">  17</a> </div>
<div class="pre"><a id="l18" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l18" class="linenr">  18</a>   <span class="hl slc">// Get vegas path (library path).</span></div>
<div class="pre"><a id="l19" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l19" class="linenr">  19</a>   <span class="hl kwc">$vegas_path</span> <span class="hl sym">=</span> <span class="hl kwd">vegas_get_path</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l20" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l20" class="linenr">  20</a> </div>
<div class="pre"><a id="l21" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l21" class="linenr">  21</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'#attached'</span><span class="hl sym">][</span><span class="hl str">'js'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l22" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l22" class="linenr">  22</a>     <span class="hl kwd">drupal_get_path</span><span class="hl sym">(</span><span class="hl str">'module'</span><span class="hl sym">,</span> <span class="hl str">'vegas'</span><span class="hl sym">)</span> . <span class="hl str">'/js/vegas.admin.js'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l23" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l23" class="linenr">  23</a>       <span class="hl str">'type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'file'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l24" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l24" class="linenr">  24</a>     <span class="hl sym">),</span></div>
<div class="pre"><a id="l25" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l25" class="linenr">  25</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l26" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l26" class="linenr">  26</a> </div>
<div class="pre"><a id="l27" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l27" class="linenr">  27</a>   <span class="hl slc">// Library Path field.</span></div>
<div class="pre"><a id="l28" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l28" class="linenr">  28</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_library_path'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l29" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l29" class="linenr">  29</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'textfield'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l30" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l30" class="linenr">  30</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Vegas Library Path'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l31" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l31" class="linenr">  31</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'The location where JQuery Vegas is installed. Relative paths are from the Drupal root directory.'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l32" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l32" class="linenr">  32</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$vegas_path</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l33" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l33" class="linenr">  33</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl str">''</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l34" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l34" class="linenr">  34</a>     <span class="hl str">'#required'</span> <span class="hl sym">=&gt;</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l35" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l35" class="linenr">  35</a>     <span class="hl slc">// Override after build.</span></div>
<div class="pre"><a id="l36" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l36" class="linenr">  36</a>     <span class="hl str">'#after_build'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'_vegas_admin_settings_check_path'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l37" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l37" class="linenr">  37</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l38" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l38" class="linenr">  38</a> </div>
<div class="pre"><a id="l39" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l39" class="linenr">  39</a>   <span class="hl slc">// Background option fieldset.</span></div>
<div class="pre"><a id="l40" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l40" class="linenr">  40</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l41" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l41" class="linenr">  41</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Background Options'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l42" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l42" class="linenr">  42</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fieldset'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l43" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l43" class="linenr">  43</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l44" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l44" class="linenr">  44</a> </div>
<div class="pre"><a id="l45" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l45" class="linenr">  45</a>   <span class="hl slc">// Use Overlay.</span></div>
<div class="pre"><a id="l46" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l46" class="linenr">  46</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l47" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l47" class="linenr">  47</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Use Overlay'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l48" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l48" class="linenr">  48</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span><span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'An overlay with a texture can be added to mask the image degradation effects.'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l49" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l49" class="linenr">  49</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'checkbox'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l50" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l50" class="linenr">  50</a>     <span class="hl str">'#return_value'</span> <span class="hl sym">=&gt;</span>  VEGAS_OVERLAY<span class="hl sym">,</span></div>
<div class="pre"><a id="l51" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l51" class="linenr">  51</a>     <span class="hl str">'#values'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">,</span> <span class="hl num">01</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l52" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l52" class="linenr">  52</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l53" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l53" class="linenr">  53</a> </div>
<div class="pre"><a id="l54" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l54" class="linenr">  54</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_overlay'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l55" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l55" class="linenr">  55</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fieldset'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l56" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l56" class="linenr">  56</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Overlay Texture'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l57" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l57" class="linenr">  57</a>     <span class="hl str">'#id'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas-overlay'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l58" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l58" class="linenr">  58</a>     <span class="hl str">'#collapsible'</span> <span class="hl sym">=&gt;</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l59" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l59" class="linenr">  59</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Select available texture'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l60" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l60" class="linenr">  60</a>     <span class="hl str">'#collapsed'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">,</span> <span class="hl num">0</span><span class="hl sym">) ==</span> VEGAS_OVERLAY ? FALSE <span class="hl sym">:</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l61" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l61" class="linenr">  61</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l62" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l62" class="linenr">  62</a> </div>
<div class="pre"><a id="l63" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l63" class="linenr">  63</a>   <span class="hl slc">// Get available Overlay.</span></div>
<div class="pre"><a id="l64" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l64" class="linenr">  64</a>   <span class="hl kwc">$overlay_textures</span> <span class="hl sym">=</span> <span class="hl kwd">vegas_admin_settings_get_textures</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l65" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l65" class="linenr">  65</a> </div>
<div class="pre"><a id="l66" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l66" class="linenr">  66</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_overlay'</span><span class="hl sym">][</span><span class="hl str">'vegas_overlay_textures'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l67" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l67" class="linenr">  67</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'radios'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l68" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l68" class="linenr">  68</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Textures'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l69" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l69" class="linenr">  69</a>     <span class="hl str">'#options'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$overlay_textures</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l70" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l70" class="linenr">  70</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_overlay_textures'</span><span class="hl sym">,</span> <span class="hl str">'01'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l71" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l71" class="linenr">  71</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l72" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l72" class="linenr">  72</a> </div>
<div class="pre"><a id="l73" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l73" class="linenr">  73</a>   <span class="hl slc">// Use Slideshow.</span></div>
<div class="pre"><a id="l74" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l74" class="linenr">  74</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l75" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l75" class="linenr">  75</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Use Slideshow'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l76" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l76" class="linenr">  76</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Slideshows of different backgrounds. Transition and callbacks can be easily set up. (Off = Multiple backgrounds will be rotated when page reload)'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l77" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l77" class="linenr">  77</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'checkbox'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l78" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l78" class="linenr">  78</a>     <span class="hl str">'#return_value'</span> <span class="hl sym">=&gt;</span>  VEGAS_SLIDESHOW<span class="hl sym">,</span></div>
<div class="pre"><a id="l79" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l79" class="linenr">  79</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">,</span> <span class="hl num">0</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l80" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l80" class="linenr">  80</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l81" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l81" class="linenr">  81</a> </div>
<div class="pre"><a id="l82" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l82" class="linenr">  82</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l83" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l83" class="linenr">  83</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Slideshow Effects'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l84" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l84" class="linenr">  84</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fieldset'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l85" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l85" class="linenr">  85</a>     <span class="hl str">'#collapsible'</span> <span class="hl sym">=&gt;</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l86" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l86" class="linenr">  86</a>     <span class="hl str">'#collapsed'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">,</span> <span class="hl num">0</span><span class="hl sym">) ==</span> VEGAS_SLIDESHOW ? FALSE <span class="hl sym">:</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l87" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l87" class="linenr">  87</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l88" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l88" class="linenr">  88</a> </div>
<div class="pre"><a id="l89" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l89" class="linenr">  89</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow_effect_delay'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l90" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l90" class="linenr">  90</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Delay'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l91" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l91" class="linenr">  91</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'textfield'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l92" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l92" class="linenr">  92</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_delay'</span><span class="hl sym">,</span> <span class="hl num">5000</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l93" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l93" class="linenr">  93</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Delay between two slides in milliseconds. The default value is 5000 milliseconds. Eg. 1000,500 (in ms)'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l94" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l94" class="linenr">  94</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l95" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l95" class="linenr">  95</a> </div>
<div class="pre"><a id="l96" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l96" class="linenr">  96</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow_effect_preload'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l97" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l97" class="linenr">  97</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Preload'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l98" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l98" class="linenr">  98</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'checkbox'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l99" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l99" class="linenr">  99</a>     <span class="hl str">'#return_value'</span> <span class="hl sym">=&gt;</span> <span class="hl num">1</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l100" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l100" class="linenr"> 100</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Preload all the images of the Slideshow.'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l101" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l101" class="linenr"> 101</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_preload'</span><span class="hl sym">,</span> <span class="hl num">0</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l102" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l102" class="linenr"> 102</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l103" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l103" class="linenr"> 103</a> </div>
<div class="pre"><a id="l104" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l104" class="linenr"> 104</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_background_options'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow'</span><span class="hl sym">][</span><span class="hl str">'vegas_slideshow_effect_step'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l105" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l105" class="linenr"> 105</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Step'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l106" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l106" class="linenr"> 106</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'select'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l107" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l107" class="linenr"> 107</a>     <span class="hl str">'#options'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl num">1</span><span class="hl sym">,</span> <span class="hl num">2</span><span class="hl sym">,</span> <span class="hl num">3</span><span class="hl sym">,</span> <span class="hl num">4</span><span class="hl sym">,</span> <span class="hl num">5</span><span class="hl sym">,</span> <span class="hl num">6</span><span class="hl sym">,</span> <span class="hl num">7</span><span class="hl sym">,</span> <span class="hl num">8</span><span class="hl sym">,</span> <span class="hl num">9</span><span class="hl sym">,</span> <span class="hl num">10</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l108" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l108" class="linenr"> 108</a>     <span class="hl str">'#description'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Preload all the images of the Slideshow.'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l109" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l109" class="linenr"> 109</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">variable_get</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_step'</span><span class="hl sym">,</span> <span class="hl num">1</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l110" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l110" class="linenr"> 110</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l111" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l111" class="linenr"> 111</a> </div>
<div class="pre"><a id="l112" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l112" class="linenr"> 112</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l113" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l113" class="linenr"> 113</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fieldset'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l114" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l114" class="linenr"> 114</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Background Images'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l115" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l115" class="linenr"> 115</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l116" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l116" class="linenr"> 116</a> </div>
<div class="pre"><a id="l117" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l117" class="linenr"> 117</a>   <span class="hl kwc">$images</span> <span class="hl sym">=</span> <span class="hl kwd">vegas_get_all_images</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l118" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l118" class="linenr"> 118</a> </div>
<div class="pre"><a id="l119" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l119" class="linenr"> 119</a>   <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwc">$images</span> as <span class="hl kwc">$image</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l120" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l120" class="linenr"> 120</a>     <span class="hl kwc">$fids</span><span class="hl sym">[] =</span> <span class="hl kwc">$image</span><span class="hl sym">-&gt;</span>fid<span class="hl sym">;</span></div>
<div class="pre"><a id="l121" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l121" class="linenr"> 121</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l122" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l122" class="linenr"> 122</a> </div>
<div class="pre"><a id="l123" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l123" class="linenr"> 123</a>   <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwc">$images</span> as <span class="hl kwc">$image</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l124" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l124" class="linenr"> 124</a>     <span class="hl kwc">$weight</span><span class="hl sym">[</span><span class="hl kwc">$image</span><span class="hl sym">-&gt;</span>fid<span class="hl sym">] =</span> <span class="hl kwc">$image</span><span class="hl sym">-&gt;</span>weight<span class="hl sym">;</span></div>
<div class="pre"><a id="l125" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l125" class="linenr"> 125</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l126" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l126" class="linenr"> 126</a> </div>
<div class="pre"><a id="l127" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l127" class="linenr"> 127</a>   <span class="hl kwa">if</span> <span class="hl sym">(!</span><span class="hl kwd">isset</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">])) {</span></div>
<div class="pre"><a id="l128" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l128" class="linenr"> 128</a>     <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l129" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l129" class="linenr"> 129</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l130" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l130" class="linenr"> 130</a>   <span class="hl com">/* If default value not empty and there's no new upload */</span></div>
<div class="pre"><a id="l131" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l131" class="linenr"> 131</a>   <span class="hl kwa">if</span> <span class="hl sym">(!</span><span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$fids</span><span class="hl sym">) &amp;&amp;</span> <span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">])) {</span></div>
<div class="pre"><a id="l132" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l132" class="linenr"> 132</a>     <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">] =</span> <span class="hl kwc">$fids</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l133" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l133" class="linenr"> 133</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l134" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l134" class="linenr"> 134</a>   <span class="hl com">/* If default value is not empty and there's new upload */</span></div>
<div class="pre"><a id="l135" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l135" class="linenr"> 135</a>   <span class="hl kwa">elseif</span> <span class="hl sym">(!</span><span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$fids</span><span class="hl sym">) &amp;&amp; !</span><span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">]) &amp;&amp;</span> <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'submitted'</span><span class="hl sym">] ==</span> FALSE<span class="hl sym">) {</span></div>
<div class="pre"><a id="l136" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l136" class="linenr"> 136</a>     <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">] =</span> <span class="hl kwa">array_merge</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">],</span> <span class="hl kwc">$fids</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l137" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l137" class="linenr"> 137</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l138" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l138" class="linenr"> 138</a> </div>
<div class="pre"><a id="l139" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l139" class="linenr"> 139</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'files'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l140" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l140" class="linenr"> 140</a>     <span class="hl str">'#prefix'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'&lt;div id=&quot;vegas-images&quot;&gt;'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l141" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l141" class="linenr"> 141</a>     <span class="hl str">'#theme'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas_images'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l142" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l142" class="linenr"> 142</a>     <span class="hl str">'#tree'</span> <span class="hl sym">=&gt;</span> TRUE<span class="hl sym">,</span></div>
<div class="pre"><a id="l143" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l143" class="linenr"> 143</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l144" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l144" class="linenr"> 144</a>   <span class="hl com">/* Count number of files. */</span></div>
<div class="pre"><a id="l145" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l145" class="linenr"> 145</a>   <span class="hl kwc">$count</span> <span class="hl sym">=</span> <span class="hl kwa">count</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l146" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l146" class="linenr"> 146</a>   <span class="hl kwa">for</span> <span class="hl sym">(</span><span class="hl kwc">$i</span> <span class="hl sym">=</span> <span class="hl num">0</span><span class="hl sym">;</span> <span class="hl kwc">$i</span> <span class="hl sym">&lt;</span> <span class="hl kwc">$count</span><span class="hl sym">;</span> <span class="hl kwc">$i</span><span class="hl sym">++) {</span></div>
<div class="pre"><a id="l147" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l147" class="linenr"> 147</a>     <span class="hl kwc">$opt</span><span class="hl sym">[</span><span class="hl kwc">$i</span><span class="hl sym">] =</span> <span class="hl kwc">$i</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l148" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l148" class="linenr"> 148</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l149" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l149" class="linenr"> 149</a> </div>
<div class="pre"><a id="l150" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l150" class="linenr"> 150</a>   <span class="hl kwa">foreach</span> <span class="hl sym">((</span><span class="hl kwa">array</span><span class="hl sym">)</span> <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">]</span> as <span class="hl kwc">$i</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$fid</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l151" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l151" class="linenr"> 151</a>     <span class="hl slc">// Load temporary file.</span></div>
<div class="pre"><a id="l152" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l152" class="linenr"> 152</a>     <span class="hl kwc">$file</span> <span class="hl sym">=</span> <span class="hl kwd">file_load</span><span class="hl sym">(</span><span class="hl kwc">$fid</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l153" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l153" class="linenr"> 153</a>     <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwc">$file</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l154" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l154" class="linenr"> 154</a>       <span class="hl com">/* Init rendering of image preview. */</span></div>
<div class="pre"><a id="l155" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l155" class="linenr"> 155</a>       <span class="hl kwc">$image</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l156" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l156" class="linenr"> 156</a>       <span class="hl kwc">$image</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l157" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l157" class="linenr"> 157</a>         <span class="hl str">'style_name'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'thumbnail'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l158" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l158" class="linenr"> 158</a>         <span class="hl str">'path'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$file</span><span class="hl sym">-&gt;</span>uri<span class="hl sym">,</span></div>
<div class="pre"><a id="l159" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l159" class="linenr"> 159</a>         <span class="hl str">'width'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'100'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l160" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l160" class="linenr"> 160</a>         <span class="hl str">'height'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'60'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l161" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l161" class="linenr"> 161</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l162" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l162" class="linenr"> 162</a>       <span class="hl kwc">$img</span> <span class="hl sym">=</span> <span class="hl kwd">theme</span><span class="hl sym">(</span><span class="hl str">'image'</span><span class="hl sym">,</span> <span class="hl kwc">$image</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l163" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l163" class="linenr"> 163</a> </div>
<div class="pre"><a id="l164" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l164" class="linenr"> 164</a>       <span class="hl com">/* Set weight to each form elements */</span></div>
<div class="pre"><a id="l165" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l165" class="linenr"> 165</a>       <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'files'</span><span class="hl sym">][</span><span class="hl kwc">$fid</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l166" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l166" class="linenr"> 166</a>         <span class="hl str">'#weight'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">isset</span><span class="hl sym">(</span><span class="hl kwc">$weight</span><span class="hl sym">[</span><span class="hl kwc">$fid</span><span class="hl sym">])</span> ? <span class="hl kwc">$weight</span><span class="hl sym">[</span><span class="hl kwc">$fid</span><span class="hl sym">] :</span> <span class="hl num">0</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l167" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l167" class="linenr"> 167</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l168" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l168" class="linenr"> 168</a> </div>
<div class="pre"><a id="l169" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l169" class="linenr"> 169</a>       <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'files'</span><span class="hl sym">][</span><span class="hl kwc">$fid</span><span class="hl sym">][</span><span class="hl str">'fid'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l170" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l170" class="linenr"> 170</a>         <span class="hl str">'#id'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'files-'</span> . <span class="hl kwc">$i</span> . <span class="hl str">'-fid'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l171" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l171" class="linenr"> 171</a>         <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'hidden'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l172" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l172" class="linenr"> 172</a>         <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$fid</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l173" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l173" class="linenr"> 173</a>         <span class="hl str">'#suffix'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'&lt;span style=&quot;width:120px;float:left;&quot;&gt;'</span> . <span class="hl kwc">$img</span> . <span class="hl str">'&lt;/span&gt;&lt;strong&gt;'</span> . <span class="hl kwc">$file</span><span class="hl sym">-&gt;</span>filename . <span class="hl str">'&lt;/strong&gt;'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l174" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l174" class="linenr"> 174</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l175" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l175" class="linenr"> 175</a> </div>
<div class="pre"><a id="l176" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l176" class="linenr"> 176</a>       <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'files'</span><span class="hl sym">][</span><span class="hl kwc">$fid</span><span class="hl sym">][</span><span class="hl str">'weight'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l177" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l177" class="linenr"> 177</a>         <span class="hl str">'#id'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'files-'</span> . <span class="hl kwc">$i</span> . <span class="hl str">'-weight'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l178" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l178" class="linenr"> 178</a>         <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'select'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l179" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l179" class="linenr"> 179</a>         <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Weight'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l180" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l180" class="linenr"> 180</a>         <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">isset</span><span class="hl sym">(</span><span class="hl kwc">$weight</span><span class="hl sym">[</span><span class="hl kwc">$fid</span><span class="hl sym">])</span> ? <span class="hl kwc">$weight</span><span class="hl sym">[</span><span class="hl kwc">$fid</span><span class="hl sym">] :</span> <span class="hl num">0</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l181" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l181" class="linenr"> 181</a>         <span class="hl str">'#options'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$opt</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l182" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l182" class="linenr"> 182</a>         <span class="hl str">'#title-display'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'invisible'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l183" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l183" class="linenr"> 183</a>         <span class="hl str">'#attributes'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'class'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'images-weight'</span><span class="hl sym">)),</span></div>
<div class="pre"><a id="l184" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l184" class="linenr"> 184</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l185" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l185" class="linenr"> 185</a> </div>
<div class="pre"><a id="l186" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l186" class="linenr"> 186</a>       <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'files'</span><span class="hl sym">][</span><span class="hl kwc">$fid</span><span class="hl sym">][</span><span class="hl str">'remove'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l187" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l187" class="linenr"> 187</a>         <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'submit'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l188" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l188" class="linenr"> 188</a>         <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'Remove'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l189" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l189" class="linenr"> 189</a>         <span class="hl str">'#name'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'remove-'</span> . <span class="hl kwc">$fid</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l190" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l190" class="linenr"> 190</a>         <span class="hl str">'#submit'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'vegas_admin_settings_ajax_remove_submit'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l191" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l191" class="linenr"> 191</a>         <span class="hl str">'#ajax'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l192" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l192" class="linenr"> 192</a>           <span class="hl str">'callback'</span> <span class="hl sym">=&gt;</span><span class="hl str">'vegas_admin_settings_ajax_remove_callback'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l193" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l193" class="linenr"> 193</a>           <span class="hl str">'wrapper'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas-images'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l194" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l194" class="linenr"> 194</a>           <span class="hl str">'effect'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fade'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l195" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l195" class="linenr"> 195</a>           <span class="hl com">/* Remove progress message */</span></div>
<div class="pre"><a id="l196" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l196" class="linenr"> 196</a>           <span class="hl str">'progress'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'throbber'</span><span class="hl sym">,</span> <span class="hl str">'message'</span> <span class="hl sym">=&gt;</span> NULL<span class="hl sym">),</span></div>
<div class="pre"><a id="l197" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l197" class="linenr"> 197</a>         <span class="hl sym">),</span></div>
<div class="pre"><a id="l198" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l198" class="linenr"> 198</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l199" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l199" class="linenr"> 199</a>     <span class="hl sym">}</span></div>
<div class="pre"><a id="l200" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l200" class="linenr"> 200</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l201" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l201" class="linenr"> 201</a> </div>
<div class="pre"><a id="l202" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l202" class="linenr"> 202</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'upload'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l203" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l203" class="linenr"> 203</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'file'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l204" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l204" class="linenr"> 204</a>     <span class="hl str">'#title'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Choose a file'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l205" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l205" class="linenr"> 205</a>     <span class="hl str">'#title_display'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'invisible'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l206" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l206" class="linenr"> 206</a>     <span class="hl str">'#theme_wrappers'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(),</span></div>
<div class="pre"><a id="l207" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l207" class="linenr"> 207</a>     <span class="hl str">'#weight'</span> <span class="hl sym">=&gt;</span> <span class="hl num">2</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l208" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l208" class="linenr"> 208</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l209" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l209" class="linenr"> 209</a> </div>
<div class="pre"><a id="l210" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l210" class="linenr"> 210</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">][</span><span class="hl str">'upload_button'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l211" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l211" class="linenr"> 211</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'submit'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l212" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l212" class="linenr"> 212</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Upload'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l213" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l213" class="linenr"> 213</a>     <span class="hl str">'#validate'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(),</span></div>
<div class="pre"><a id="l214" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l214" class="linenr"> 214</a>     <span class="hl str">'#submit'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'vegas_admin_settings_ajax_upload_submit'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l215" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l215" class="linenr"> 215</a>     <span class="hl str">'#ajax'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l216" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l216" class="linenr"> 216</a>       <span class="hl str">'callback'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas_admin_settings_ajax_upload_callback'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l217" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l217" class="linenr"> 217</a>       <span class="hl str">'wrapper'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas-images'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l218" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l218" class="linenr"> 218</a>       <span class="hl str">'effect'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'fade'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l219" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l219" class="linenr"> 219</a>     <span class="hl sym">),</span></div>
<div class="pre"><a id="l220" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l220" class="linenr"> 220</a>     <span class="hl str">'#weight'</span> <span class="hl sym">=&gt;</span> <span class="hl num">3</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l221" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l221" class="linenr"> 221</a>     <span class="hl str">'#suffix'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'&lt;/div&gt;'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l222" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l222" class="linenr"> 222</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l223" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l223" class="linenr"> 223</a> </div>
<div class="pre"><a id="l224" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l224" class="linenr"> 224</a>   <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'submit'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l225" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l225" class="linenr"> 225</a>     <span class="hl str">'#type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'submit'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l226" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l226" class="linenr"> 226</a>     <span class="hl str">'#value'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Save Configurations'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l227" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l227" class="linenr"> 227</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l228" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l228" class="linenr"> 228</a> </div>
<div class="pre"><a id="l229" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l229" class="linenr"> 229</a>   <span class="hl kwa">return</span> <span class="hl kwc">$form</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l230" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l230" class="linenr"> 230</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l231" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l231" class="linenr"> 231</a> </div>
<div class="pre"><a id="l232" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l232" class="linenr"> 232</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l233" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l233" class="linenr"> 233</a> <span class="hl com"> * Ajax callback of upload_button.</span></div>
<div class="pre"><a id="l234" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l234" class="linenr"> 234</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l235" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l235" class="linenr"> 235</a> <span class="hl com"> * &#64;see vegas_admin_settings()</span></div>
<div class="pre"><a id="l236" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l236" class="linenr"> 236</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l237" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l237" class="linenr"> 237</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_ajax_upload_callback</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">,</span> <span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l238" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l238" class="linenr"> 238</a>   <span class="hl com">/* Return back file form element and upload button */</span></div>
<div class="pre"><a id="l239" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l239" class="linenr"> 239</a>   <span class="hl kwc">$return</span> <span class="hl sym">=</span> <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l240" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l240" class="linenr"> 240</a>   <span class="hl kwa">return</span> <span class="hl kwc">$return</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l241" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l241" class="linenr"> 241</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l242" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l242" class="linenr"> 242</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l243" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l243" class="linenr"> 243</a> <span class="hl com"> * Form submission of upload button.</span></div>
<div class="pre"><a id="l244" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l244" class="linenr"> 244</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l245" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l245" class="linenr"> 245</a> <span class="hl com"> * &#64;see vegas_admin_settings()</span></div>
<div class="pre"><a id="l246" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l246" class="linenr"> 246</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l247" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l247" class="linenr"> 247</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_ajax_upload_submit</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">, &amp;</span><span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l248" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l248" class="linenr"> 248</a>   <span class="hl com">/* Return False if there's no file uploaded. */</span></div>
<div class="pre"><a id="l249" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l249" class="linenr"> 249</a>   <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$_FILES</span><span class="hl sym">[</span><span class="hl str">'files'</span><span class="hl sym">][</span><span class="hl str">'name'</span><span class="hl sym">][</span><span class="hl str">'upload'</span><span class="hl sym">])) {</span></div>
<div class="pre"><a id="l250" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l250" class="linenr"> 250</a>     <span class="hl kwa">return</span> FALSE<span class="hl sym">;</span></div>
<div class="pre"><a id="l251" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l251" class="linenr"> 251</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l252" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l252" class="linenr"> 252</a> </div>
<div class="pre"><a id="l253" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l253" class="linenr"> 253</a>   <span class="hl com">/* Save uploaded files. */</span></div>
<div class="pre"><a id="l254" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l254" class="linenr"> 254</a>   <span class="hl kwc">$destination</span> <span class="hl sym">=</span> NULL<span class="hl sym">;</span></div>
<div class="pre"><a id="l255" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l255" class="linenr"> 255</a>   <span class="hl kwa">if</span> <span class="hl sym">(!</span><span class="hl kwc">$file</span> <span class="hl sym">=</span> <span class="hl kwd">file_save_upload</span><span class="hl sym">(</span><span class="hl str">'upload'</span><span class="hl sym">,</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'file_validate_extensions'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'jpg jpeg gif png'</span><span class="hl sym">)),</span> <span class="hl kwc">$destination</span><span class="hl sym">)) {</span></div>
<div class="pre"><a id="l256" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l256" class="linenr"> 256</a>     <span class="hl kwd">watchdog</span><span class="hl sym">(</span><span class="hl str">'file'</span><span class="hl sym">,</span> <span class="hl str">'The file upload failed. upload'</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l257" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l257" class="linenr"> 257</a>     <span class="hl kwd">form_set_error</span><span class="hl sym">(</span><span class="hl kwc">$upload_name</span><span class="hl sym">,</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'The file in the Images field was unable to be uploaded.'</span><span class="hl sym">));</span></div>
<div class="pre"><a id="l258" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l258" class="linenr"> 258</a>     <span class="hl kwa">return</span> FALSE<span class="hl sym">;</span></div>
<div class="pre"><a id="l259" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l259" class="linenr"> 259</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l260" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l260" class="linenr"> 260</a>   <span class="hl com">/* Append to fids array. */</span></div>
<div class="pre"><a id="l261" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l261" class="linenr"> 261</a>   <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">][] =</span> <span class="hl kwc">$file</span><span class="hl sym">-&gt;</span>fid<span class="hl sym">;</span></div>
<div class="pre"><a id="l262" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l262" class="linenr"> 262</a>   <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'rebuild'</span><span class="hl sym">] =</span> TRUE<span class="hl sym">;</span></div>
<div class="pre"><a id="l263" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l263" class="linenr"> 263</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l264" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l264" class="linenr"> 264</a> </div>
<div class="pre"><a id="l265" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l265" class="linenr"> 265</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l266" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l266" class="linenr"> 266</a> <span class="hl com"> * Form submission of remove button.</span></div>
<div class="pre"><a id="l267" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l267" class="linenr"> 267</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l268" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l268" class="linenr"> 268</a> <span class="hl com"> * &#64;see vegas_admin_settings()</span></div>
<div class="pre"><a id="l269" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l269" class="linenr"> 269</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l270" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l270" class="linenr"> 270</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_ajax_remove_submit</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">, &amp;</span><span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l271" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l271" class="linenr"> 271</a>   <span class="hl com">/* Get current Fid. */</span></div>
<div class="pre"><a id="l272" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l272" class="linenr"> 272</a>   <span class="hl kwc">$current_fid</span> <span class="hl sym">=</span> <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'clicked_button'</span><span class="hl sym">][</span><span class="hl str">'#parents'</span><span class="hl sym">][</span><span class="hl num">1</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l273" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l273" class="linenr"> 273</a> </div>
<div class="pre"><a id="l274" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l274" class="linenr"> 274</a>   <span class="hl kwc">$file_obj</span> <span class="hl sym">=</span> <span class="hl kwd">file_load</span><span class="hl sym">(</span><span class="hl kwc">$current_fid</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l275" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l275" class="linenr"> 275</a> </div>
<div class="pre"><a id="l276" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l276" class="linenr"> 276</a>   <span class="hl kwd">file_delete</span><span class="hl sym">(</span><span class="hl kwc">$file_obj</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l277" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l277" class="linenr"> 277</a> </div>
<div class="pre"><a id="l278" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l278" class="linenr"> 278</a>   <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">]</span> as <span class="hl kwc">$key</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$fid</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l279" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l279" class="linenr"> 279</a>     <span class="hl com">/* Unset fid if found. */</span></div>
<div class="pre"><a id="l280" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l280" class="linenr"> 280</a>     <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwc">$current_fid</span> <span class="hl sym">==</span> <span class="hl kwc">$fid</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l281" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l281" class="linenr"> 281</a>       <span class="hl kwa">unset</span><span class="hl sym">(</span><span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'fids'</span><span class="hl sym">][</span><span class="hl kwc">$key</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l282" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l282" class="linenr"> 282</a>     <span class="hl sym">}</span></div>
<div class="pre"><a id="l283" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l283" class="linenr"> 283</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l284" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l284" class="linenr"> 284</a>   <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'rebuild'</span><span class="hl sym">] =</span> TRUE<span class="hl sym">;</span></div>
<div class="pre"><a id="l285" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l285" class="linenr"> 285</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l286" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l286" class="linenr"> 286</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l287" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l287" class="linenr"> 287</a> <span class="hl com"> * Ajax callback of upload_button.</span></div>
<div class="pre"><a id="l288" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l288" class="linenr"> 288</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l289" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l289" class="linenr"> 289</a> <span class="hl com"> * &#64;see vegas_admin_settings()</span></div>
<div class="pre"><a id="l290" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l290" class="linenr"> 290</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l291" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l291" class="linenr"> 291</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_ajax_remove_callback</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">,</span> <span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l292" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l292" class="linenr"> 292</a>   <span class="hl com">/* Return back file form element and upload button. */</span></div>
<div class="pre"><a id="l293" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l293" class="linenr"> 293</a>   <span class="hl kwc">$return</span> <span class="hl sym">=</span> <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl str">'vegas_images'</span><span class="hl sym">][</span><span class="hl str">'images'</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l294" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l294" class="linenr"> 294</a>   <span class="hl kwa">return</span> <span class="hl kwc">$return</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l295" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l295" class="linenr"> 295</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l296" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l296" class="linenr"> 296</a> </div>
<div class="pre"><a id="l297" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l297" class="linenr"> 297</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l298" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l298" class="linenr"> 298</a> <span class="hl com"> * Form submission for vegas_admin_settings().</span></div>
<div class="pre"><a id="l299" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l299" class="linenr"> 299</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l300" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l300" class="linenr"> 300</a> <span class="hl com"> * &#64;see vegas_admin_settings()</span></div>
<div class="pre"><a id="l301" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l301" class="linenr"> 301</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l302" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l302" class="linenr"> 302</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_submit</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">,</span> <span class="hl kwc">$form_state</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l303" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l303" class="linenr"> 303</a>   <span class="hl kwc">$input</span> <span class="hl sym">=</span> <span class="hl kwc">$form_state</span><span class="hl sym">[</span><span class="hl str">'values'</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l304" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l304" class="linenr"> 304</a> </div>
<div class="pre"><a id="l305" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l305" class="linenr"> 305</a>   <span class="hl kwd">db_delete</span><span class="hl sym">(</span><span class="hl str">'vegas_images'</span><span class="hl sym">)-&gt;</span><span class="hl kwd">execute</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l306" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l306" class="linenr"> 306</a> </div>
<div class="pre"><a id="l307" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l307" class="linenr"> 307</a>   <span class="hl kwa">if</span> <span class="hl sym">(!</span><span class="hl kwd">empty</span><span class="hl sym">(</span><span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'files'</span><span class="hl sym">])) {</span></div>
<div class="pre"><a id="l308" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l308" class="linenr"> 308</a>     <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'files'</span><span class="hl sym">]</span> as <span class="hl kwc">$file</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l309" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l309" class="linenr"> 309</a> </div>
<div class="pre"><a id="l310" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l310" class="linenr"> 310</a>       <span class="hl kwc">$record</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l311" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l311" class="linenr"> 311</a>       <span class="hl kwc">$record</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l312" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l312" class="linenr"> 312</a>         <span class="hl str">'fid'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$file</span><span class="hl sym">[</span><span class="hl str">'fid'</span><span class="hl sym">],</span></div>
<div class="pre"><a id="l313" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l313" class="linenr"> 313</a>         <span class="hl str">'weight'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$file</span><span class="hl sym">[</span><span class="hl str">'weight'</span><span class="hl sym">],</span></div>
<div class="pre"><a id="l314" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l314" class="linenr"> 314</a>       <span class="hl sym">);</span></div>
<div class="pre"><a id="l315" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l315" class="linenr"> 315</a> </div>
<div class="pre"><a id="l316" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l316" class="linenr"> 316</a>       <span class="hl kwc">$query</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l317" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l317" class="linenr"> 317</a>       <span class="hl kwc">$query</span> <span class="hl sym">=</span> <span class="hl kwd">drupal_write_record</span><span class="hl sym">(</span><span class="hl str">'vegas_images'</span><span class="hl sym">,</span> <span class="hl kwc">$record</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l318" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l318" class="linenr"> 318</a>       <span class="hl kwc">$fileobj</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l319" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l319" class="linenr"> 319</a>       <span class="hl kwc">$fileobj</span> <span class="hl sym">=</span> <span class="hl kwd">file_load</span><span class="hl sym">(</span><span class="hl kwc">$file</span><span class="hl sym">[</span><span class="hl str">'fid'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l320" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l320" class="linenr"> 320</a>       <span class="hl kwc">$fileobj</span><span class="hl sym">-&gt;</span>status <span class="hl sym">=</span> FILE_STATUS_PERMANENT<span class="hl sym">;</span></div>
<div class="pre"><a id="l321" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l321" class="linenr"> 321</a>       <span class="hl kwd">file_move</span><span class="hl sym">(</span><span class="hl kwc">$fileobj</span><span class="hl sym">,</span> <span class="hl str">'public://'</span> . <span class="hl kwc">$fileobj</span><span class="hl sym">-&gt;</span>filename<span class="hl sym">,</span> FILE_EXISTS_RENAME<span class="hl sym">);</span></div>
<div class="pre"><a id="l322" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l322" class="linenr"> 322</a>     <span class="hl sym">}</span></div>
<div class="pre"><a id="l323" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l323" class="linenr"> 323</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l324" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l324" class="linenr"> 324</a> </div>
<div class="pre"><a id="l325" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l325" class="linenr"> 325</a>   <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_library_path'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_library_path'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l326" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l326" class="linenr"> 326</a> </div>
<div class="pre"><a id="l327" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l327" class="linenr"> 327</a>   <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l328" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l328" class="linenr"> 328</a> </div>
<div class="pre"><a id="l329" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l329" class="linenr"> 329</a>   <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_use_overlay'</span><span class="hl sym">] ==</span> VEGAS_OVERLAY<span class="hl sym">) {</span></div>
<div class="pre"><a id="l330" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l330" class="linenr"> 330</a>     <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_overlay_textures'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_overlay_textures'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l331" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l331" class="linenr"> 331</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l332" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l332" class="linenr"> 332</a> </div>
<div class="pre"><a id="l333" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l333" class="linenr"> 333</a>   <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l334" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l334" class="linenr"> 334</a> </div>
<div class="pre"><a id="l335" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l335" class="linenr"> 335</a>   <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_use_slideshow'</span><span class="hl sym">] ==</span> VEGAS_SLIDESHOW<span class="hl sym">) {</span></div>
<div class="pre"><a id="l336" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l336" class="linenr"> 336</a>     <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_delay'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_slideshow_effect_delay'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l337" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l337" class="linenr"> 337</a>     <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_step'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_slideshow_effect_step'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l338" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l338" class="linenr"> 338</a>     <span class="hl kwd">variable_set</span><span class="hl sym">(</span><span class="hl str">'vegas_slideshow_effect_preload'</span><span class="hl sym">,</span> <span class="hl kwc">$input</span><span class="hl sym">[</span><span class="hl str">'vegas_slideshow_effect_preload'</span><span class="hl sym">]);</span></div>
<div class="pre"><a id="l339" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l339" class="linenr"> 339</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l340" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l340" class="linenr"> 340</a> </div>
<div class="pre"><a id="l341" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l341" class="linenr"> 341</a>   <span class="hl kwd">drupal_set_message</span><span class="hl sym">(</span><span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Configurations saved!'</span><span class="hl sym">),</span> <span class="hl str">'status'</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l342" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l342" class="linenr"> 342</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l343" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l343" class="linenr"> 343</a> </div>
<div class="pre"><a id="l344" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l344" class="linenr"> 344</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l345" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l345" class="linenr"> 345</a> <span class="hl com"> * Get available vegas textures.</span></div>
<div class="pre"><a id="l346" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l346" class="linenr"> 346</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l347" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l347" class="linenr"> 347</a> <span class="hl com"> * &#64;return array</span></div>
<div class="pre"><a id="l348" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l348" class="linenr"> 348</a> <span class="hl com"> *   Array of vegas textures</span></div>
<div class="pre"><a id="l349" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l349" class="linenr"> 349</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l350" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l350" class="linenr"> 350</a> <span class="hl kwa">function</span> <span class="hl kwd">vegas_admin_settings_get_textures</span><span class="hl sym">() {</span></div>
<div class="pre"><a id="l351" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l351" class="linenr"> 351</a>   <span class="hl kwc">$vegas_path</span> <span class="hl sym">=</span> <span class="hl kwd">vegas_get_path</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l352" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l352" class="linenr"> 352</a>   <span class="hl kwc">$return</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l353" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l353" class="linenr"> 353</a>   <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwc">$vegas_path</span> <span class="hl sym">!=</span> NULL<span class="hl sym">) {</span></div>
<div class="pre"><a id="l354" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l354" class="linenr"> 354</a> </div>
<div class="pre"><a id="l355" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l355" class="linenr"> 355</a>     <span class="hl kwc">$overlays</span> <span class="hl sym">=</span> <span class="hl kwd">file_scan_directory</span><span class="hl sym">(</span><span class="hl kwc">$vegas_path</span> . <span class="hl str">'/overlays'</span><span class="hl sym">,</span> <span class="hl str">'/.*\.png$/'</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l356" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l356" class="linenr"> 356</a> </div>
<div class="pre"><a id="l357" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l357" class="linenr"> 357</a>     <span class="hl kwc">$css</span> <span class="hl sym">=</span> <span class="hl str">'</span></div>
<div class="pre"><a id="l358" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l358" class="linenr"> 358</a> <span class="hl str">      #edit-vegas-overlay-textures{</span></div>
<div class="pre"><a id="l359" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l359" class="linenr"> 359</a> <span class="hl str">        width:500px;</span></div>
<div class="pre"><a id="l360" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l360" class="linenr"> 360</a> <span class="hl str">      }</span></div>
<div class="pre"><a id="l361" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l361" class="linenr"> 361</a> <span class="hl str">      .form-type-radio.form-item-vegas-overlay-textures{</span></div>
<div class="pre"><a id="l362" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l362" class="linenr"> 362</a> <span class="hl str">          display:block;</span></div>
<div class="pre"><a id="l363" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l363" class="linenr"> 363</a> <span class="hl str">          width:60px;</span></div>
<div class="pre"><a id="l364" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l364" class="linenr"> 364</a> <span class="hl str">          float:left;</span></div>
<div class="pre"><a id="l365" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l365" class="linenr"> 365</a> <span class="hl str">          height:60px;</span></div>
<div class="pre"><a id="l366" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l366" class="linenr"> 366</a> <span class="hl str">      }'</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l367" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l367" class="linenr"> 367</a> </div>
<div class="pre"><a id="l368" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l368" class="linenr"> 368</a>     <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwc">$overlays</span> as <span class="hl kwc">$overlay</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l369" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l369" class="linenr"> 369</a>       <span class="hl kwc">$overlay</span> <span class="hl sym">= (</span><span class="hl kwb">object</span><span class="hl sym">)</span> <span class="hl kwc">$overlay</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l370" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l370" class="linenr"> 370</a>       <span class="hl kwc">$return</span><span class="hl sym">[</span><span class="hl kwc">$overlay</span><span class="hl sym">-&gt;</span>name<span class="hl sym">] =</span> <span class="hl kwc">$overlay</span><span class="hl sym">-&gt;</span>name<span class="hl sym">;</span></div>
<div class="pre"><a id="l371" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l371" class="linenr"> 371</a>       <span class="hl kwc">$css</span> .<span class="hl sym">=</span> <span class="hl str">'</span></div>
<div class="pre"><a id="l372" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l372" class="linenr"> 372</a> <span class="hl str">        label[for=edit-vegas-overlay-textures-'</span> . <span class="hl kwc">$overlay</span><span class="hl sym">-&gt;</span>name . <span class="hl str">']{</span></div>
<div class="pre"><a id="l373" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l373" class="linenr"> 373</a> <span class="hl str">          background: #ccc url(/'</span> . <span class="hl kwc">$overlay</span><span class="hl sym">-&gt;</span>uri . <span class="hl str">');</span></div>
<div class="pre"><a id="l374" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l374" class="linenr"> 374</a> <span class="hl str">          display:inline-block;</span></div>
<div class="pre"><a id="l375" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l375" class="linenr"> 375</a> <span class="hl str">          width:40px;</span></div>
<div class="pre"><a id="l376" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l376" class="linenr"> 376</a> <span class="hl str">          height:40px;</span></div>
<div class="pre"><a id="l377" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l377" class="linenr"> 377</a> <span class="hl str">          text-indent: -999px;</span></div>
<div class="pre"><a id="l378" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l378" class="linenr"> 378</a> <span class="hl str">          overflow:hidden</span></div>
<div class="pre"><a id="l379" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l379" class="linenr"> 379</a> <span class="hl str">        }'</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l380" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l380" class="linenr"> 380</a>     <span class="hl sym">}</span></div>
<div class="pre"><a id="l381" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l381" class="linenr"> 381</a> </div>
<div class="pre"><a id="l382" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l382" class="linenr"> 382</a>     <span class="hl kwd">drupal_add_css</span><span class="hl sym">(</span><span class="hl kwc">$css</span><span class="hl sym">,</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'type'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'inline'</span><span class="hl sym">));</span></div>
<div class="pre"><a id="l383" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l383" class="linenr"> 383</a> </div>
<div class="pre"><a id="l384" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l384" class="linenr"> 384</a>     <span class="hl kwa">asort</span><span class="hl sym">(</span><span class="hl kwc">$return</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l385" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l385" class="linenr"> 385</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l386" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l386" class="linenr"> 386</a> </div>
<div class="pre"><a id="l387" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l387" class="linenr"> 387</a>   <span class="hl kwa">return</span> <span class="hl kwc">$return</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l388" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l388" class="linenr"> 388</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l389" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l389" class="linenr"> 389</a> </div>
<div class="pre"><a id="l390" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l390" class="linenr"> 390</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l391" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l391" class="linenr"> 391</a> <span class="hl com"> * Render API callback: validate vegas path.</span></div>
<div class="pre"><a id="l392" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l392" class="linenr"> 392</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l393" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l393" class="linenr"> 393</a> <span class="hl com"> * Ensures that vegas path is correct.</span></div>
<div class="pre"><a id="l394" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l394" class="linenr"> 394</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l395" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l395" class="linenr"> 395</a> <span class="hl com"> * This function is assigned as an #after_build callback in</span></div>
<div class="pre"><a id="l396" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l396" class="linenr"> 396</a> <span class="hl com"> * vegas_admin_settings().</span></div>
<div class="pre"><a id="l397" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l397" class="linenr"> 397</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l398" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l398" class="linenr"> 398</a> <span class="hl kwa">function</span> <span class="hl kwd">_vegas_admin_settings_check_path</span><span class="hl sym">(</span><span class="hl kwc">$form_element</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l399" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l399" class="linenr"> 399</a> </div>
<div class="pre"><a id="l400" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l400" class="linenr"> 400</a>   <span class="hl kwc">$library_path</span> <span class="hl sym">=</span> <span class="hl kwc">$form_element</span><span class="hl sym">[</span><span class="hl str">'#value'</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l401" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l401" class="linenr"> 401</a> </div>
<div class="pre"><a id="l402" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l402" class="linenr"> 402</a>   <span class="hl kwa">if</span> <span class="hl sym">(</span><span class="hl kwd">vegas_get_path</span><span class="hl sym">() ==</span> NULL<span class="hl sym">) {</span></div>
<div class="pre"><a id="l403" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l403" class="linenr"> 403</a>     <span class="hl kwd">form_set_error</span><span class="hl sym">(</span><span class="hl kwc">$form_element</span><span class="hl sym">[</span><span class="hl str">'#parents'</span><span class="hl sym">][</span><span class="hl num">0</span><span class="hl sym">],</span> <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'You need to download the !colorbox and extract the entire contents of the archive into the sites/all/libaries folder of your server.'</span><span class="hl sym">,</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'!colorbox'</span> <span class="hl sym">=&gt;</span> <span class="hl kwd">l</span><span class="hl sym">(</span><span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Jquery Vegas'</span><span class="hl sym">),</span> <span class="hl str">'http://vegas.jaysalvat.com/'</span><span class="hl sym">))));</span></div>
<div class="pre"><a id="l404" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l404" class="linenr"> 404</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l405" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l405" class="linenr"> 405</a> </div>
<div class="pre"><a id="l406" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l406" class="linenr"> 406</a>   <span class="hl kwa">return</span> <span class="hl kwc">$form_element</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l407" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l407" class="linenr"> 407</a> <span class="hl sym">}</span></div>
<div class="pre"><a id="l408" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l408" class="linenr"> 408</a> </div>
<div class="pre"><a id="l409" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l409" class="linenr"> 409</a> <span class="hl com">/**</span></div>
<div class="pre"><a id="l410" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l410" class="linenr"> 410</a> <span class="hl com"> * Returns HTML for a vegas images.</span></div>
<div class="pre"><a id="l411" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l411" class="linenr"> 411</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l412" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l412" class="linenr"> 412</a> <span class="hl com"> * &#64;param array $variables</span></div>
<div class="pre"><a id="l413" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l413" class="linenr"> 413</a> <span class="hl com"> *   An associative array containing:</span></div>
<div class="pre"><a id="l414" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l414" class="linenr"> 414</a> <span class="hl com"> *   - form: the form array of uploaded images.</span></div>
<div class="pre"><a id="l415" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l415" class="linenr"> 415</a> <span class="hl com"> *</span></div>
<div class="pre"><a id="l416" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l416" class="linenr"> 416</a> <span class="hl com"> * &#64;ingroup themeable</span></div>
<div class="pre"><a id="l417" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l417" class="linenr"> 417</a> <span class="hl com"> */</span></div>
<div class="pre"><a id="l418" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l418" class="linenr"> 418</a> <span class="hl kwa">function</span> <span class="hl kwd">theme_vegas_images</span><span class="hl sym">(</span><span class="hl kwc">$variables</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l419" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l419" class="linenr"> 419</a>   <span class="hl kwc">$form</span> <span class="hl sym">=</span> <span class="hl kwc">$variables</span><span class="hl sym">[</span><span class="hl str">'form'</span><span class="hl sym">];</span></div>
<div class="pre"><a id="l420" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l420" class="linenr"> 420</a> </div>
<div class="pre"><a id="l421" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l421" class="linenr"> 421</a>   <span class="hl com">/* Add table drag functionlity. */</span></div>
<div class="pre"><a id="l422" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l422" class="linenr"> 422</a>   <span class="hl kwd">drupal_add_tabledrag</span><span class="hl sym">(</span><span class="hl str">'vegas-images-table'</span><span class="hl sym">,</span> <span class="hl str">'order'</span><span class="hl sym">,</span> <span class="hl str">'sibling'</span><span class="hl sym">,</span> <span class="hl str">'images-weight'</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l423" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l423" class="linenr"> 423</a> </div>
<div class="pre"><a id="l424" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l424" class="linenr"> 424</a> </div>
<div class="pre"><a id="l425" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l425" class="linenr"> 425</a>   <span class="hl kwc">$rows</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">();</span></div>
<div class="pre"><a id="l426" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l426" class="linenr"> 426</a>   <span class="hl kwc">$headers</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l427" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l427" class="linenr"> 427</a>     <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Images'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l428" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l428" class="linenr"> 428</a>     <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Weight'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l429" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l429" class="linenr"> 429</a>     <span class="hl kwd">t</span><span class="hl sym">(</span><span class="hl str">'Operations'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l430" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l430" class="linenr"> 430</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l431" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l431" class="linenr"> 431</a> </div>
<div class="pre"><a id="l432" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l432" class="linenr"> 432</a>   <span class="hl kwa">foreach</span> <span class="hl sym">(</span><span class="hl kwd">element_children</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">)</span> as <span class="hl kwc">$key</span><span class="hl sym">) {</span></div>
<div class="pre"><a id="l433" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l433" class="linenr"> 433</a>     <span class="hl slc">// Set special classes for drag and drop updating.</span></div>
<div class="pre"><a id="l434" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l434" class="linenr"> 434</a>     <span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl kwc">$key</span><span class="hl sym">][</span><span class="hl str">'weight'</span><span class="hl sym">][</span><span class="hl str">'#attributes'</span><span class="hl sym">][</span><span class="hl str">'class'</span><span class="hl sym">] =</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'images-weight'</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l435" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l435" class="linenr"> 435</a> </div>
<div class="pre"><a id="l436" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l436" class="linenr"> 436</a>     <span class="hl slc">// Build the table row.</span></div>
<div class="pre"><a id="l437" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l437" class="linenr"> 437</a>     <span class="hl kwc">$row</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l438" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l438" class="linenr"> 438</a>       <span class="hl str">'data'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l439" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l439" class="linenr"> 439</a>         <span class="hl kwd">drupal_render</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl kwc">$key</span><span class="hl sym">][</span><span class="hl str">'fid'</span><span class="hl sym">]),</span></div>
<div class="pre"><a id="l440" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l440" class="linenr"> 440</a>         <span class="hl kwd">drupal_render</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl kwc">$key</span><span class="hl sym">][</span><span class="hl str">'weight'</span><span class="hl sym">]),</span></div>
<div class="pre"><a id="l441" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l441" class="linenr"> 441</a>         <span class="hl kwd">drupal_render</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">[</span><span class="hl kwc">$key</span><span class="hl sym">][</span><span class="hl str">'remove'</span><span class="hl sym">]),</span></div>
<div class="pre"><a id="l442" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l442" class="linenr"> 442</a>       <span class="hl sym">),</span></div>
<div class="pre"><a id="l443" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l443" class="linenr"> 443</a>       <span class="hl str">'class'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span><span class="hl str">'draggable'</span><span class="hl sym">),</span></div>
<div class="pre"><a id="l444" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l444" class="linenr"> 444</a>     <span class="hl sym">);</span></div>
<div class="pre"><a id="l445" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l445" class="linenr"> 445</a> </div>
<div class="pre"><a id="l446" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l446" class="linenr"> 446</a>     <span class="hl kwc">$rows</span><span class="hl sym">[] =</span> <span class="hl kwc">$row</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l447" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l447" class="linenr"> 447</a>   <span class="hl sym">}</span></div>
<div class="pre"><a id="l448" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l448" class="linenr"> 448</a> </div>
<div class="pre"><a id="l449" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l449" class="linenr"> 449</a>   <span class="hl kwc">$table_params</span> <span class="hl sym">=</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l450" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l450" class="linenr"> 450</a>     <span class="hl str">'header'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$headers</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l451" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l451" class="linenr"> 451</a>     <span class="hl str">'rows'</span> <span class="hl sym">=&gt;</span> <span class="hl kwc">$rows</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l452" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l452" class="linenr"> 452</a>     <span class="hl str">'attributes'</span> <span class="hl sym">=&gt;</span> <span class="hl kwa">array</span><span class="hl sym">(</span></div>
<div class="pre"><a id="l453" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l453" class="linenr"> 453</a>       <span class="hl str">'id'</span> <span class="hl sym">=&gt;</span> <span class="hl str">'vegas-images-table'</span><span class="hl sym">,</span></div>
<div class="pre"><a id="l454" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l454" class="linenr"> 454</a>     <span class="hl sym">),</span></div>
<div class="pre"><a id="l455" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l455" class="linenr"> 455</a>   <span class="hl sym">);</span></div>
<div class="pre"><a id="l456" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l456" class="linenr"> 456</a>   <span class="hl kwc">$output</span> <span class="hl sym">=</span> <span class="hl kwd">theme</span><span class="hl sym">(</span><span class="hl str">'table'</span><span class="hl sym">,</span> <span class="hl kwc">$table_params</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l457" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l457" class="linenr"> 457</a>   <span class="hl kwc">$output</span> .<span class="hl sym">=</span> <span class="hl kwd">drupal_render_children</span><span class="hl sym">(</span><span class="hl kwc">$form</span><span class="hl sym">);</span></div>
<div class="pre"><a id="l458" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l458" class="linenr"> 458</a>   <span class="hl kwa">return</span> <span class="hl kwc">$output</span><span class="hl sym">;</span></div>
<div class="pre"><a id="l459" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc#l459" class="linenr"> 459</a> <span class="hl sym">}</span></div>
</div><div class="page_footer">
<div class="cachetime">Cache Last Updated: Sat Jul 14 18:38:26 2012 GMT</div>
<!--
	Full URL: |/sandbox/iqbalnurhakim/1623992.git/blob/refs/heads/7.x-1.x:/vegas.admin.inc?|
	URL Hash: |30eb97c5de9b08c1975a1dd720e6ff2e|
-->
<div class="page_footer_text">For more information about this repository, visit the project page at http://drupal.org/sandbox/iqbalnurhakim/1623992</div>
<a class="rss_logo" title="history of vegas.admin.inc on '7.x-1.x' RSS feed" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/rss/refs/heads/7.x-1.x?f=vegas.admin.inc">RSS</a>
<a class="rss_logo" title="history of vegas.admin.inc on '7.x-1.x' Atom feed" href="http://drupalcode.org/sandbox/iqbalnurhakim/1623992.git/atom/refs/heads/7.x-1.x?f=vegas.admin.inc">Atom</a>
</div>
<script type="text/javascript" src="/gitweb.js"></script>
</body>
</html>